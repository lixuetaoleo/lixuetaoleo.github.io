<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<title>Useful Git Commands | Li Xuetao&#39;s Homepage</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Home</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/categories/Software-Development">Software Development</a>
                
                    <a class="menu-item" href="/categories/Inspiration">Inspiration</a>
                
                    <a class="menu-item" href="/categories/Tech">Tech</a>
                
                    <a class="menu-item" href="/archives">Archives</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Home</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/categories/Software-Development">Software Development</a>
                
                    <a class="menu-item" href="/categories/Inspiration">Inspiration</a>
                
                    <a class="menu-item" href="/categories/Tech">Tech</a>
                
                    <a class="menu-item" href="/archives">Archives</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Useful Git Commands</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Li Xuetao</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">October 16, 2019&nbsp;&nbsp;16:51:37</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Software-Development/">Software Development</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>本教程是git的一些常用操作,不包括对git的介绍以及git的安装方式)，如果你对git一无所知，请先自行Google以对git有一定了解。</p>
<ol>
<li><p>git clone –recursive &lt; HTTPS or SSH address &gt;  递归克隆(包括仓库中的子模块也一并clone)一个仓库</p>
</li>
<li><p>git config –global user.name &lt; NAME &gt;</p>
<p>git config –global user.email &lt; EMAIL &gt;</p>
<p>配置提交者的用户名和邮箱(通常只要安装git后第一次运行时配置)</p>
</li>
<li><p>git add &lt; file name&gt;  缓存 &lt;文件&gt; 中的更改，准备下次提交。</p>
<p>git add &lt; dir name&gt;  缓存 &lt;目录&gt; 下的所有更改，准备下次提交。</p>
<p>add完之后，利用git commit -m “useful commit message”将代码进行提交</p>
</li>
<li><p>git status : 显示文件状态</p>
</li>
<li><p>git log : 显示历史信息</p>
<p>git log –author=”John Smith” -p hello.py</p>
<p>这个命令会显示 John Smith 作者对 hello.py 文件所做的所有更改的差异比较（diff）。以此类推，想看某人的提交就保留author。</p>
</li>
<li><p>git checkout &lt; branch&gt;  检出到banch分支</p>
<p>git checkout -b &lt; branch&gt; 新建分支并切换到该分支</p>
<p>git checkout –track origin/…/remotebranch 将远程的分支checkout至本地</p>
<p>git push origin &lt; space&gt;:branchtodelete 删除远程分支</p>
</li>
<li><p>回滚历史（git revert 与 git reset）<br>回到某次提交：</p>
<p>git revert &lt; commit hash value&gt;</p>
<p>git reset –hard &lt; commit hash value&gt;</p>
<p>撤销最近(第二近)提交</p>
<p>git revert HEAD(HEAD^)</p>
<p>撤销第N-1次提交：</p>
<p>git revert HEAD~N</p>
<p>git reset –hard HEAD~N</p>
<p>其中commit hash value可以通过git log 获得  </p>
<p>两者的区别:revert就是让别人知道你撤回过代码，reset –hard让别人不知道你撤回过代码，因此revert比较安全</p>
<p>举个例子：假设已经有1，2，3，4，5次提交，如果你用revert，那么在git log上会有6次，1，2，3，4，5，6（代码回到第三次）；用reset，git log只有3次提交，因此如果你想回到4，5次提交，已经不可能了。所以建议用revert</p>
</li>
<li><p>git branch  查看本地所有分支</p>
<p>git branch -a 查看所有分支(本地 + 远程)</p>
<p>git branch &lt; branch&gt;  创建一个新分支(但不切换到该分支)</p>
<p>git branch -d &lt; branch&gt;  删除指定分支。这是一个安全的操作，Git 会阻止你删除包含未合并更改的分支。 </p>
<p>git branch -D &lt; branch&gt;  强制删除指定分支，即使包含未合并更改。如果你希望永远删除某条开发线的所有提交，你应该用这个命令。 谨慎使用！</p>
<p>git branch -m &lt; newname&gt; 将当前分支命名为 &lt; newname&gt;</p>
</li>
<li><p>git merge &lt; branch&gt; -m “merge branch xxx”  将branch分支合并至当前分支</p>
</li>
<li><p>git stash  将当前代码托管然后并将当前工作还原至本次提交最原始代码</p>
<p>git stash apply  恢复最近一次的stash(在同分支)</p>
<p>git stash pop 恢复最近一次的stash(在不同分支)</p>
<p>stash的几个指令在解决pull的问题时很有用，比如你在修改代码时发现你忘记pull最新代码，可以先git stash然后pull然后apply就能解决</p>
</li>
</ol>
<hr>
<p>上面是本地的git操作，如果想把这些内容同步至远端，则需要引进remote了。</p>
<ol>
<li><p>git pull 拉取远程分支的内容. git pull = git fetch + git merge</p>
</li>
<li><p>git push origin localbranch:remotebranch 将本地分支的内容推至远程分支</p>
</li>
</ol>
<hr>
<h2 id="Git-Workflow"><a href="#Git-Workflow" class="headerlink" title="Git Workflow"></a>Git Workflow</h2><p>假设你已经clone仓库并且在项目做了修改，需要commit代码并且push</p>
<ol>
<li>提交之前请确认是否pull了最新代码！！！，如果没有pull，就先git stash然后git pull，然后git stash apply，如果提示有代码冲突，请打开vscode解决冲突。</li>
<li>git add …(或者点击vscode里的”+”)，添加要提交的文件</li>
<li>git commit -m “提交信息(你做的工作，修改的地方，简介即可)”</li>
<li>git push origin 本地分支名:远程分支名(一般与本地分支名相同)，如果不知道本地分支名是什么，用git branch查看(分支名前带*的就是当前分支)</li>
</ol>
<p>假设已经commit，但是别人在你add，commit这段时间又推了最新代码，这是push会出错，提示你本地代码不是最新代码，按以下步骤解决：</p>
<ol>
<li>git pull</li>
<li>add所有新出现的文件</li>
<li>git commit -m “fix conflict”</li>
<li>git push origin 本地分支名:远程分支名(一般与本地分支名相同)，如果不知道本地分支名是什么，用git branch查看(分支名前带*的就是当前分支)</li>
</ol>
<p>merge步骤(假设你在A，你要merge到B)：</p>
<ol>
<li>git checkout B</li>
<li>git pull</li>
<li>git merge A -m “merge branch A”</li>
<li>git push origin 本地分支名:远程分支名(一般与本地分支名相同)，如果不知道本地分支名是什么，用git branch查看(分支名前带*的就是当前分支)</li>
</ol>
<p>假设在merge的第三步出现代码冲突错误，按以下步骤解决：</p>
<ol>
<li>在vscode中解决冲突（选择你要保留哪个版本的代码）</li>
<li>add所有的文件</li>
<li>git commit -m “merge branch A”</li>
<li>git push origin 本地分支名:远程分支名(一般与本地分支名相同)，如果不知道本地分支名是什么，用git branch查看(分支名前带*的就是当前分支)</li>
</ol>
<p>checkout一个新分支并且该分支已经在远程仓库有：git checkout –track origin/…./……；如果远程没有：git checkout -b 新分支名</p>
<p>假设你在本地有两个分支(命名为A和B)，并且你在A上已经做了修改，但是却发现是要在B上提交，按以下步骤：</p>
<ol>
<li>git stash</li>
<li>git checkout B</li>
<li>git pull</li>
<li>git stash pop</li>
<li>后面继续进行代码修改与正常的提交步骤</li>
</ol>
<hr>
<h3 id="各平台好用的可视化Git工具"><a href="#各平台好用的可视化Git工具" class="headerlink" title="各平台好用的可视化Git工具"></a>各平台好用的可视化Git工具</h3><p>Win/Mac：SourceTree，Fork</p>
<p>Linux：无应用程序，用VSCode插件代替：GitLens, GitHistory</p>

        </div>

        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Git/"># Git</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2019/10/18/C-key-word-explicit/">C++ keyword -- explicit</a>
            
            
            <a class="next" rel="next" href="/2019/09/18/Start-to-JavaScript-OOP/">Start to JavaScript--OOP</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Li Xuetao | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
